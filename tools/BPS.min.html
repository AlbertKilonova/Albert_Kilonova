<!DOCTYPE html><html><head><meta charset="UTF-8"><title>å¡å¸§å·¥å…·</title><style>body{font-family:Arial;max-width:800px;margin:20px auto;padding:20px;background:#f0f2f5}.box{background:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 10px #0000001a}input{padding:8px;margin:5px;width:100px;border:1px solid #ddd}button{background:#007bff;color:#fff;border:0;padding:8px 15px;border-radius:5px;cursor:pointer}.res{margin-top:15px;padding:15px;background:#f8f9fa}a{color:#17a2b8;text-decoration:none}</style></head><body><div class="box"><h2>å¡å¸§ç”Ÿæˆå™¨</h2><a href="https://vocalremover.org/zh/key-bpm-finder" target="_blank" rel="noopener noreferrer" style="display:block;margin-bottom:15px">ğŸµ éœ€è¦æ£€æµ‹BPMï¼Ÿç‚¹å‡»è¿™é‡Œ</a><div>æ—¶é•¿ï¼š<input id="m" placeholder="åˆ†" type="number"><input id="s" placeholder="ç§’" type="number"></div><div>BPMï¼š<input id="b" value="140" type="number"></div><div>FPSï¼š<input id="f" value="60" type="number"></div><button onclick="c()">è®¡ç®—</button><div id="r" class="res"></div></div><script>let d={};function e(t,n){let o=[];for(let e=0;e<=t;e++){let a=e/n,i=Math.floor(a/3600),r=Math.floor(a%3600/60),s=Math.floor(a%60),l=e%n;o.push({f:e,t:`${i.toString().padStart(2,0)}:${r.toString().padStart(2,0)}:${s.toString().padStart(2,0)}:${l.toString().padStart(2,0)}`})}return o}function p(){let t=JSON.stringify({meta:d.m,pattern:d.p,error:d.e,time:d.t},null,2),n=new Blob([t],{type:"application/json"}),o=URL.createObjectURL(n),a=document.createElement("a");a.href=o,a.download=`data_${Date.now()}.json`,a.click()}function v(){let t="Frame,Timecode\n";d.t.forEach(n=>{t+=`${n.f},${n.t}\n`}),n=new Blob([t],{type:"text/csv"}),o=URL.createObjectURL(n),a=document.createElement("a");a.href=o,a.download=`time_${Date.now()}.csv`,a.click()}function g(t,o=20){let a=Math.floor(t),i=Math.ceil(t);if(a===i)return{x:1,y:0};let r=i-t,l={x:0,y:0,e:1/0};for(let n=1;n<=o;n++){let e=Math.round((1-r)*n),s=n-e;if(e>=0&&s>=0){let o=(i*e+a*s)/(e+s),c=Math.abs(o-t);c<l.e&&(l={x:e,y:s,e:c})}}return l}function c(){let t=+(document.getElementById("m").value||0)*60+(+document.getElementById("s").value||0),o=+document.getElementById("b").value,n=+document.getElementById("f").value,a=t*(o/60),i=(1/(o/60))*n,{x:r,y:s,e:l}=g(i),h=Math.ceil(i),u=Math.floor(i),m=r+s,b=Math.floor(a/m),k=a%m,w=l/n,C=w*a,y=e(Math.round(t*n),n);d={m:{bpm:o,fps:n,dur:t,beat:a},p:{high:h,low:u,hc:r,lc:s},e:{per:w,total:C},t:y},document.getElementById("r").innerHTML=`<p>æ€»æ‹æ•°ï¼š${a.toFixed(1)}æ‹ | ç†è®ºå¸§/æ‹ï¼š${i.toFixed(3)}</p><p>æ–¹æ¡ˆï¼š${h}å¸§Ã—${r}+${u}å¸§Ã—${s} [å‘¨æœŸ${m}æ‹]</p><p>è¯¯å·®ï¼šÂ±${w.toFixed(4)}s/æ‹ | ç´¯è®¡ï¼š${C.toFixed(2)}s</p><p>æ—¶é—´ç ï¼š${y.length}å¸§</p>`}</script></body></html>